<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../root.css">
    <link rel="stylesheet" href="../comp/components.css">
    <link rel="stylesheet" href="./contacts.css">
    <link rel="stylesheet" href="./addContact.css">
    <link rel="stylesheet" href="./contactsResponsive.css">
    <link rel="stylesheet" href="../comp/navbar/navbar.css">
    <link rel="stylesheet" href="../comp/sidebar/sidebar.css">
    <link id="favicon-light" rel="icon" href="../assets/imgs/logo-black.png" media="(prefers-color-scheme: light)" />
    <link id="favicon-dark" rel="icon" href="../assets/imgs/logo-white-blue.png" media="(prefers-color-scheme: dark)" />
    <title>Contacts</title>
</head>

<body onload="initNavbar()">
    <div class="navbar-wrap" w3-include-html="../comp/navbar/navbar.html"></div>
    <div w3-include-html="../comp/sidebar/sidebar.html"></div>
    <section class="contacts-container">
        <!-- contacts list - left side -->
        <div class="contacts" id="contacts">
            <button class="add-new-contact-icon btn-dark" onclick="openAddContact()">
                <img src="../assets/imgs/person_add.png" alt="">
            </button>
            <div class="addBtn-container">
                <button class="add-new-contact btn-dark" onclick="openAddContact()">
                    Add new contact
                    <img src="../assets/imgs/person_add.png" alt="">
                </button>
            </div>
            <div class="contact-list" id="contactList">
                <div class="contact-container">
                    <h3 class="letter-underline">M</h3>
                    <div class="contact-content" id="contactContent" onclick="toggleDetailsContact()">
                        <div class="name-circle" id="nameCircle">MM</div>
                        <div class="name-email">
                            <h4 id="nameInList">Max Mustermann</h4>
                            <h5>max.mustermann@test.test</h5>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- contact details - right side -->
        <div class="contacts-details" id="contactsDetails">
            <button class="more-btn btn-dark" id="moreBtn" onclick="toggleEditDeleteMenu()">
                <img src="../assets/imgs/more.png" alt="">
            </button>
            <div class="edit-delete-menu" id="editDeleteMenu">
                <button id="editResp" onclick="openEditContact()">
                    <img src="../assets/imgs/edit.svg" alt="" class="edit-icon-resp">
                    Edit
                </button>
                <button id="deleteResp">
                    <img src="../assets/imgs/delete.svg" alt="" class="delete-icon-resp">
                    Delete
                </button>
            </div>
            <div class="details-head">
                <div class="back" onclick="toggleBack()">
                    <img src="../assets/imgs/arrow-left.png" alt="">
                </div>
                <div class="cont">Contacts</div>
                <div class="side-line"></div>
                <div class="better">Better with a team!</div>
                <div class="vertical-line"></div>
            </div>
            <div class="details-content" id="contentDetails">
                <div class="contact-name">
                    <div class="name-circle-sec" id="nameCircleSec">MM</div>
                    <div class="name-container">
                        <div class="name">Max Mustermann</div>
                        <div class="btns-container">
                            <button id="edit" onclick="openEditContact()">
                                <img src="../assets/imgs/edit.svg" alt="" class="edit-icon">
                                Edit
                            </button>
                            <button id="delete">
                                <img src="../assets/imgs/delete.svg" alt="" class="delete-icon">
                                Delete
                            </button>
                        </div>
                    </div>
                </div>
                <h2>Contact Information</h2>
                <h3>Email</h3>
                <a href="mailto:max.mustermann@test.test">max.mustermann@test.test</a>
                <h3>Phone</h3>
                <a href="tel:+49 123 456 7890">+49 123 456 7890</a>
            </div>
        </div>

        <!---   add new Contact  --->
        <div class="" id="addContactOverlay" onclick="closeAddContact()">
            <div class="addContact" id="addContact"></div>
        </div>

        <!-- edit contact -->
        <div id="editContactOverlay" onclick="closeEditContact()">
            <div class="editContact" id="editContact"></div>
        </div>
    </section>
</body>

<script src="./contacts.js"></script>
<script src="./contactsTemp.js"></script>
<script src="./hoverEffect.js"></script>
<script src="/comp/navbar/navbar.js"></script>
<script src="/comp/sidebar/sidebar.js"></script>
<script src="https://www.w3schools.com/lib/w3.js"></script>
<script>
    w3.includeHTML(function () {
        setActiveNav();
    });

    function setActiveNav() {
        const currentPage = window.location.pathname.split("/").pop();
        document.querySelectorAll(".nav-button").forEach((button) => {
            const link = button.getAttribute("data-link");
            button.classList.toggle("sidebar-active-tap", link === currentPage);
        });
    }
</script>

</html>